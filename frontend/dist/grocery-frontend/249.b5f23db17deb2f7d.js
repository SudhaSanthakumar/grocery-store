"use strict";(self.webpackChunkgrocery_frontend=self.webpackChunkgrocery_frontend||[]).push([[249],{1249:(F,c,o)=>{o.r(c),o.d(c,{OrderListComponent:()=>E});var i=o(177),m=o(1069),a=o(4341),e=o(4438),p=o(8674);const g=t=>["/orders",t];function h(t,d){1&t&&(e.j41(0,"div",12),e.nrm(1,"i",13),e.j41(2,"h4"),e.EFF(3,"No orders found"),e.k0s(),e.j41(4,"p"),e.EFF(5,"You haven't placed any orders yet."),e.k0s(),e.j41(6,"a",14),e.nrm(7,"i",15),e.EFF(8,"Start Shopping "),e.k0s()())}function _(t,d){if(1&t&&(e.j41(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22)(4,"h6",23),e.EFF(5),e.k0s(),e.j41(6,"small",3),e.EFF(7),e.k0s()(),e.j41(8,"div",24)(9,"h6",23),e.EFF(10),e.k0s(),e.j41(11,"small",3),e.EFF(12),e.k0s()(),e.j41(13,"div",22)(14,"span",25),e.EFF(15),e.k0s()(),e.j41(16,"div",22)(17,"h6",26),e.EFF(18),e.k0s(),e.j41(19,"small",3),e.EFF(20),e.k0s()(),e.j41(21,"div",22)(22,"small",3),e.nrm(23,"i",27),e.EFF(24),e.k0s()(),e.j41(25,"div",28)(26,"a",29),e.nrm(27,"i",30),e.k0s()()()()()),2&t){const r=d.$implicit,s=e.XpG(2);e.R7$(5),e.SpI("Order #",r.id,""),e.R7$(2),e.JRh(s.getFormattedDate(r.orderDate)),e.R7$(3),e.JRh(r.customerName),e.R7$(2),e.JRh(r.customerPhone),e.R7$(2),e.Y8G("ngClass","status-"+r.status.toLowerCase()),e.R7$(),e.SpI(" ",s.getStatusText(r.status)," "),e.R7$(3),e.SpI("$",r.totalAmount.toFixed(2),""),e.R7$(2),e.SpI("",r.orderItems.length||0," items"),e.R7$(4),e.SpI(" ",s.getFormattedDate(r.estimatedDelivery)," "),e.R7$(2),e.Y8G("routerLink",e.eq3(10,g,r.id))}}function f(t,d){if(1&t&&(e.j41(0,"div",16)(1,"div",17),e.DNE(2,_,28,12,"div",18),e.k0s()()),2&t){const r=e.XpG();e.R7$(2),e.Y8G("ngForOf",r.orders)}}function v(t,d){1&t&&(e.j41(0,"div",31)(1,"div",32)(2,"span",33),e.EFF(3,"Loading..."),e.k0s()()())}let E=(()=>{class t{constructor(r){this.orderService=r,this.orders=[],this.loading=!0,this.searchCustomer=""}ngOnInit(){this.loadOrders()}loadOrders(){this.loading=!0,this.orderService.getAllOrders().subscribe({next:r=>{this.orders=r,this.loading=!1},error:r=>{console.error("Error loading orders:",r),this.loading=!1}})}searchOrders(){this.searchCustomer.trim()?(this.loading=!0,this.orderService.getOrdersByCustomer(this.searchCustomer).subscribe({next:r=>{this.orders=r,this.loading=!1},error:r=>{console.error("Error searching orders:",r),this.loading=!1}})):this.loadOrders()}getFormattedDate(r){return new Date(r).toLocaleString()}getStatusText(r){switch(r){case"PLACED":return"Placed";case"CONFIRMED":return"Confirmed";case"PREPARING":return"Preparing";case"OUT_FOR_DELIVERY":return"Out for Delivery";case"DELIVERED":return"Delivered";case"CANCELLED":return"Cancelled";default:return r}}static{this.\u0275fac=function(s){return new(s||t)(e.rXU(p.Q))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-order-list"]],standalone:!0,features:[e.aNF],decls:15,vars:4,consts:[[1,"row","mb-4"],[1,"col-md-8"],[1,"fas","fa-receipt","me-2"],[1,"text-muted"],[1,"col-md-4"],[1,"input-group"],["type","text","placeholder","Search by customer name...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-search"],["class","empty-state",4,"ngIf"],["class","row",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"empty-state"],[1,"fas","fa-receipt"],["routerLink","/products",1,"btn","btn-primary"],[1,"fas","fa-store","me-2"],[1,"row"],[1,"col-12"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-md-2"],[1,"mb-1"],[1,"col-md-3"],[1,"order-status",3,"ngClass"],[1,"text-success","mb-1"],[1,"fas","fa-truck","me-1"],[1,"col-md-1"],[1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],[1,"fas","fa-eye"],[1,"loading-spinner"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"h2"),e.nrm(3,"i",2),e.EFF(4,"Order History"),e.k0s(),e.j41(5,"p",3),e.EFF(6,"Track your orders and view order details"),e.k0s()(),e.j41(7,"div",4)(8,"div",5)(9,"input",6),e.mxI("ngModelChange",function(l){return e.DH7(n.searchCustomer,l)||(n.searchCustomer=l),l}),e.bIt("keyup.enter",function(){return n.searchOrders()}),e.k0s(),e.j41(10,"button",7),e.bIt("click",function(){return n.searchOrders()}),e.nrm(11,"i",8),e.k0s()()()(),e.DNE(12,h,9,0,"div",9)(13,f,3,1,"div",10)(14,v,4,0,"div",11)),2&s&&(e.R7$(9),e.R50("ngModel",n.searchCustomer),e.R7$(3),e.Y8G("ngIf",!n.loading&&0===n.orders.length),e.R7$(),e.Y8G("ngIf",n.orders.length>0),e.R7$(),e.Y8G("ngIf",n.loading))},dependencies:[i.MD,i.YU,i.Sq,i.bT,m.iI,m.Wk,a.YN,a.me,a.BC,a.vS],encapsulation:2})}}return t})()}}]);